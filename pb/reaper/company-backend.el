;;; parts/reaper/company-backend.el -*- lexical-binding: t; -*-

(require 'cl-lib)
(require 'company)

(defconst reaper-api-functions
  '("abs" "fgets" "gfx_drawstr" "gfx_setcursor" "min" "strcpy" "acos" "floor" "gfx_getchar" "gfx_setfont" "printf" "strcpy_from" "asin" "fopen" "gfx_getdropfile" "gfx_setimgdim" "rand" "strcpy_substr" "atan" "fprintf" "gfx_getfont" "gfx_setpixel" "runloop" "stricmp" "atan2" "fread" "gfx_getimgdim" "gfx_showmenu" "sign" "strlen" "atexit" "freembuf" "gfx_getpixel" "gfx_transformblit" "sin" "strncat" "ceil" "fseek" "gfx_gradrect" "gfx_triangle" "sleep" "strncmp" "convolve_c" "ftell" "gfx_init" "gfx_update" "sprintf" "strncpy" "cos" "fwrite" "gfx_line" "ifft" "sqr" "strnicmp" "defer" "get_action_context" "gfx_lineto" "ifft_real" "sqrt" "tan" "eval" "gfx" "VARIABLES" "gfx_loadimg" "invsqrt" "stack_exch" "tcp_close" "exp" "gfx_arc" "gfx_measurechar" "log" "stack_peek" "tcp_connect" "extension_api" "gfx_blit" "gfx_measurestr" "log10" "stack_pop" "tcp_listen" "fclose" "gfx_blitext" "gfx_muladdrect" "loop" "stack_push" "tcp_listen_end" "feof" "gfx_blurto" "gfx_printf" "match" "str_delsub" "tcp_recv" "fflush" "gfx_circle" "gfx_quit" "matchi" "str_getchar" "tcp_send" "fft" "gfx_clienttoscreen" "gfx_rect" "max" "str_insert" "tcp_set_block" "fft_ipermute" "gfx_deltablit" "gfx_rectto" "mem_get_values" "str_setchar" "time" "fft_permute" "gfx_dock" "gfx_roundrect" "mem_set_values" "str_setlen" "time_precise" "fft_real" "gfx_drawchar" "gfx_screentoclient" "memcpy" "strcat" "while" "fgetc" "gfx_drawnumber" "gfx_set" "memset" "strcmp" "atexit" "gfx.deltablit" "gfx.gradrect" "gfx.rect" "gfx.transformblit" "copy" "defer" "gfx.dock" "gfx.init" "gfx.rectto" "gfx.triangle" "fft" "get_action_context" "gfx.drawchar" "gfx.line" "gfx.roundrect" "gfx.update" "fft_real" "gfx" "VARIABLES" "gfx.drawnumber" "gfx.lineto" "gfx.screentoclient" "gmem_attach" "get_alloc" "gfx.arc" "gfx.drawstr" "gfx.loadimg" "gfx.set" "gmem_read" "ifft" "gfx.blit" "gfx.getchar" "gfx.measurechar" "gfx.setcursor" "gmem_write" "ifft_real" "gfx.blitext" "gfx.getdropfile" "gfx.measurestr" "gfx.setfont" "new_array" "multiply" "gfx.blurto" "gfx.getfont" "gfx.muladdrect" "gfx.setimgdim" "runloop" "resize" "gfx.circle" "gfx.getimgdim" "gfx.printf" "gfx.setpixel" "clear" "table" "gfx.clienttoscreen" "gfx.getpixel" "gfx.quit" "gfx.showmenu" "convolve" "AddMediaItemToTrack" "GetEnvelopePointEx" "InsertAutomationItem" "SetRegionRenderMatrix" "AddProjectMarker" "GetEnvelopeScalingMode" "InsertEnvelopePoint" "SetTakeMarker" "AddProjectMarker2" "GetEnvelopeStateChunk" "InsertEnvelopePointEx" "SetTakeStretchMarker" "AddRemoveReaScript" "GetExePath" "InsertMedia" "SetTakeStretchMarkerSlope" "AddTakeToMediaItem" "GetExtState" "InsertMediaSection" "SetTempoTimeSigMarker" "AddTempoTimeSigMarker" "GetFocusedFX" "InsertTrackAtIndex" "SetThemeColor" "adjustZoom" "GetFocusedFX2" "IsMediaExtension" "SetToggleCommandState" "AnyTrackSolo" "GetFreeDiskSpaceForRecordPath" "IsMediaItemSelected" "SetTrackAutomationMode" "APIExists" "GetFXEnvelope" "IsProjectDirty" "SetTrackColor" "APITest" "GetGlobalAutomationOverride" "IsTrackSelected" "SetTrackMIDILyrics" "ApplyNudge" "GetHZoomLevel" "IsTrackVisible" "SetTrackMIDINoteName" "ArmCommand" "GetInputChannelName" "joystick_create" "SetTrackMIDINoteNameEx" "Audio_Init" "GetInputOutputLatency" "joystick_destroy" "SetTrackSelected" "Audio_IsPreBuffer" "GetItemEditingTime2" "joystick_enum" "SetTrackSendInfo_Value" "Audio_IsRunning" "GetItemFromPoint" "joystick_getaxis" "SetTrackSendUIPan" "Audio_Quit" "GetItemProjectContext" "joystick_getbuttonmask" "SetTrackSendUIVol" "AudioAccessorStateChanged" "GetItemStateChunk" "joystick_getinfo" "SetTrackStateChunk" "AudioAccessorUpdate" "GetLastColorThemeFile" "joystick_getpov" "ShowActionList" "AudioAccessorValidateState" "GetLastMarkerAndCurRegion" "joystick_update" "ShowConsoleMsg" "BypassFxAllTracks" "GetLastTouchedFX" "LICE_ClipLine" "ShowMessageBox" "CalculateNormalization" "GetLastTouchedTrack" "LocalizeString" "ShowPopupMenu" "ClearAllRecArmed" "GetMainHwnd" "Loop_OnArrow" "SLIDER2DB" "ClearConsole" "GetMasterMuteSoloFlags" "Main_OnCommand" "SnapToGrid" "ClearPeakCache" "GetMasterTrack" "Main_OnCommandEx" "SoloAllTracks" "ColorFromNative" "GetMasterTrackVisibility" "Main_openProject" "Splash_GetWnd" "ColorToNative" "GetMaxMidiInputs" "Main_SaveProject" "SplitMediaItem" "CountAutomationItems" "GetMaxMidiOutputs" "Main_UpdateLoopInfo" "stringToGuid" "CountEnvelopePoints" "GetMediaFileMetadata" "MarkProjectDirty" "StuffMIDIMessage" "CountEnvelopePointsEx" "GetMediaItem" "MarkTrackItemsDirty" "TakeFX_AddByName" "CountMediaItems" "GetMediaItem_Track" "Master_GetPlayRate" "TakeFX_CopyToTake" "CountProjectMarkers" "GetMediaItemInfo_Value" "Master_GetPlayRateAtTime" "TakeFX_CopyToTrack" "CountSelectedMediaItems" "GetMediaItemNumTakes" "Master_GetTempo" "TakeFX_Delete" "CountSelectedTracks" "GetMediaItemTake" "Master_NormalizePlayRate" "TakeFX_EndParamEdit" "CountSelectedTracks2" "GetMediaItemTake_Item" "Master_NormalizeTempo" "TakeFX_FormatParamValue" "CountTakeEnvelopes" "GetMediaItemTake_Peaks" "MB" "TakeFX_FormatParamValueNormalized" "CountTakes" "GetMediaItemTake_Source" "MediaItemDescendsFromTrack" "TakeFX_GetChainVisible" "CountTCPFXParms" "GetMediaItemTake_Track" "MIDI_CountEvts" "TakeFX_GetCount" "CountTempoTimeSigMarkers" "GetMediaItemTakeByGUID" "MIDI_DeleteCC" "TakeFX_GetEnabled" "CountTrackEnvelopes" "GetMediaItemTakeInfo_Value" "MIDI_DeleteEvt" "TakeFX_GetEnvelope" "CountTrackMediaItems" "GetMediaItemTrack" "MIDI_DeleteNote" "TakeFX_GetFloatingWindow" "CountTracks" "GetMediaSourceFileName" "MIDI_DeleteTextSysexEvt" "TakeFX_GetFormattedParamValue" "CreateNewMIDIItemInProj" "GetMediaSourceLength" "MIDI_DisableSort" "TakeFX_GetFXGUID" "CreateTakeAudioAccessor" "GetMediaSourceNumChannels" "MIDI_EnumSelCC" "TakeFX_GetFXName" "CreateTrackAudioAccessor" "GetMediaSourceParent" "MIDI_EnumSelEvts" "TakeFX_GetIOSize" "CreateTrackSend" "GetMediaSourceSampleRate" "MIDI_EnumSelNotes" "TakeFX_GetNamedConfigParm" "CSurf_FlushUndo" "GetMediaSourceType" "MIDI_EnumSelTextSysexEvts" "TakeFX_GetNumParams" "CSurf_GetTouchState" "GetMediaTrackInfo_Value" "MIDI_GetAllEvts" "TakeFX_GetOffline" "CSurf_GoEnd" "GetMIDIInputName" "MIDI_GetCC" "TakeFX_GetOpen" "CSurf_GoStart" "GetMIDIOutputName" "MIDI_GetCCShape" "TakeFX_GetParam" "CSurf_NumTracks" "GetMixerScroll" "MIDI_GetEvt" "TakeFX_GetParameterStepSizes" "CSurf_OnArrow" "GetMouseModifier" "MIDI_GetGrid" "TakeFX_GetParamEx" "CSurf_OnFwd" "GetMousePosition" "MIDI_GetHash" "TakeFX_GetParamFromIdent" "CSurf_OnFXChange" "GetNumAudioInputs" "MIDI_GetNote" "TakeFX_GetParamIdent" "CSurf_OnInputMonitorChange" "GetNumAudioOutputs" "MIDI_GetPPQPos_EndOfMeasure" "TakeFX_GetParamName" "CSurf_OnInputMonitorChangeEx" "GetNumMIDIInputs" "MIDI_GetPPQPos_StartOfMeasure" "TakeFX_GetParamNormalized" "CSurf_OnMuteChange" "GetNumMIDIOutputs" "MIDI_GetPPQPosFromProjQN" "TakeFX_GetPinMappings" "CSurf_OnMuteChangeEx" "GetNumTakeMarkers" "MIDI_GetPPQPosFromProjTime" "TakeFX_GetPreset" "CSurf_OnPanChange" "GetNumTracks" "MIDI_GetProjQNFromPPQPos" "TakeFX_GetPresetIndex" "CSurf_OnPanChangeEx" "GetOS" "MIDI_GetProjTimeFromPPQPos" "TakeFX_GetUserPresetFilename" "CSurf_OnPause" "GetOutputChannelName" "MIDI_GetRecentInputEvent" "TakeFX_NavigatePresets" "CSurf_OnPlay" "GetOutputLatency" "MIDI_GetScale" "TakeFX_SetEnabled" "CSurf_OnPlayRateChange" "GetParentTrack" "MIDI_GetTextSysexEvt" "TakeFX_SetNamedConfigParm" "CSurf_OnRecArmChange" "GetPeakFileName" "MIDI_GetTrackHash" "TakeFX_SetOffline" "CSurf_OnRecArmChangeEx" "GetPeakFileNameEx" "midi_init" "TakeFX_SetOpen" "CSurf_OnRecord" "GetPeakFileNameEx2" "MIDI_InsertCC" "TakeFX_SetParam" "CSurf_OnRecvPanChange" "GetPlayPosition" "MIDI_InsertEvt" "TakeFX_SetParamNormalized" "CSurf_OnRecvVolumeChange" "GetPlayPosition2" "MIDI_InsertNote" "TakeFX_SetPinMappings" "CSurf_OnRew" "GetPlayPosition2Ex" "MIDI_InsertTextSysexEvt" "TakeFX_SetPreset" "CSurf_OnRewFwd" "GetPlayPositionEx" "midi_reinit" "TakeFX_SetPresetByIndex" "CSurf_OnScroll" "GetPlayState" "MIDI_SelectAll" "TakeFX_Show" "CSurf_OnSelectedChange" "GetPlayStateEx" "MIDI_SetAllEvts" "TakeIsMIDI" "CSurf_OnSendPanChange" "GetProjectLength" "MIDI_SetCC" "ThemeLayout_GetLayout" "CSurf_OnSendVolumeChange" "GetProjectName" "MIDI_SetCCShape" "ThemeLayout_GetParameter" "CSurf_OnSoloChange" "GetProjectPath" "MIDI_SetEvt" "ThemeLayout_RefreshAll" "CSurf_OnSoloChangeEx" "GetProjectPathEx" "MIDI_SetItemExtents" "ThemeLayout_SetLayout" "CSurf_OnStop" "GetProjectStateChangeCount" "MIDI_SetNote" "ThemeLayout_SetParameter" "CSurf_OnTempoChange" "GetProjectTimeOffset" "MIDI_SetTextSysexEvt" "time_precise" "CSurf_OnTrackSelection" "GetProjectTimeSignature" "MIDI_Sort" "TimeMap2_beatsToTime" "CSurf_OnVolumeChange" "GetProjectTimeSignature2" "MIDIEditor_EnumTakes" "TimeMap2_GetDividedBpmAtTime" "CSurf_OnVolumeChangeEx" "GetProjExtState" "MIDIEditor_GetActive" "TimeMap2_GetNextChangeTime" "CSurf_OnWidthChange" "GetResourcePath" "MIDIEditor_GetMode" "TimeMap2_QNToTime" "CSurf_OnWidthChangeEx" "GetSelectedEnvelope" "MIDIEditor_GetSetting_int" "TimeMap2_timeToBeats" "CSurf_OnZoom" "GetSelectedMediaItem" "MIDIEditor_GetSetting_str" "TimeMap2_timeToQN" "CSurf_ResetAllCachedVolPanStates" "GetSelectedTrack" "MIDIEditor_GetTake" "TimeMap_curFrameRate" "CSurf_ScrubAmt" "GetSelectedTrack2" "MIDIEditor_LastFocused_OnCommand" "TimeMap_GetDividedBpmAtTime" "CSurf_SetAutoMode" "GetSelectedTrackEnvelope" "MIDIEditor_OnCommand" "TimeMap_GetMeasureInfo" "CSurf_SetPlayState" "GetSet_ArrangeView2" "MIDIEditor_SetSetting_int" "TimeMap_GetMetronomePattern" "CSurf_SetRepeatState" "GetSet_LoopTimeRange" "mkpanstr" "TimeMap_GetTimeSigAtTime" "CSurf_SetSurfaceMute" "GetSet_LoopTimeRange2" "mkvolpanstr" "TimeMap_QNToMeasures" "CSurf_SetSurfacePan" "GetSetAutomationItemInfo" "mkvolstr" "TimeMap_QNToTime" "CSurf_SetSurfaceRecArm" "GetSetAutomationItemInfo_String" "MoveEditCursor" "TimeMap_QNToTime_abs" "CSurf_SetSurfaceSelected" "GetSetEnvelopeInfo_String" "MoveMediaItemToTrack" "TimeMap_timeToQN" "CSurf_SetSurfaceSolo" "GetSetEnvelopeState" "MuteAllTracks" "TimeMap_timeToQN_abs" "CSurf_SetSurfaceVolume" "GetSetEnvelopeState2" "my_getViewport" "ToggleTrackSendUIMute" "CSurf_SetTrackListChange" "GetSetItemState" "NamedCommandLookup" "Track_GetPeakHoldDB" "CSurf_TrackFromID" "GetSetItemState2" "OnPauseButton" "Track_GetPeakInfo" "CSurf_TrackToID" "GetSetMediaItemInfo_String" "OnPauseButtonEx" "TrackCtl_SetToolTip" "DB2SLIDER" "GetSetMediaItemTakeInfo_String" "OnPlayButton" "TrackFX_AddByName" "DeleteEnvelopePointEx" "GetSetMediaTrackInfo_String" "OnPlayButtonEx" "TrackFX_CopyToTake" "DeleteEnvelopePointRange" "GetSetProjectAuthor" "OnStopButton" "TrackFX_CopyToTrack" "DeleteEnvelopePointRangeEx" "GetSetProjectGrid" "OnStopButtonEx" "TrackFX_Delete" "DeleteExtState" "GetSetProjectInfo" "OpenColorThemeFile" "TrackFX_EndParamEdit" "DeleteProjectMarker" "GetSetProjectInfo_String" "OpenMediaExplorer" "TrackFX_FormatParamValue" "DeleteProjectMarkerByIndex" "GetSetProjectNotes" "OscLocalMessageToHost" "TrackFX_FormatParamValueNormalized" "DeleteTakeMarker" "GetSetRepeat" "parse_timestr" "TrackFX_GetByName" "DeleteTakeStretchMarkers" "GetSetRepeatEx" "parse_timestr_len" "TrackFX_GetChainVisible" "DeleteTempoTimeSigMarker" "GetSetTrackGroupMembership" "parse_timestr_pos" "TrackFX_GetCount" "DeleteTrack" "GetSetTrackGroupMembershipHigh" "parsepanstr" "TrackFX_GetEnabled" "DeleteTrackMediaItem" "GetSetTrackSendInfo_String" "PCM_Sink_Enum" "TrackFX_GetEQ" "DestroyAudioAccessor" "GetSetTrackState" "PCM_Sink_GetExtension" "TrackFX_GetEQBandEnabled" "Dock_UpdateDockID" "GetSetTrackState2" "PCM_Sink_ShowConfig" "TrackFX_GetEQParam" "DockGetPosition" "GetSubProjectFromSource" "PCM_Source_BuildPeaks" "TrackFX_GetFloatingWindow" "DockIsChildOfDock" "GetTake" "PCM_Source_CreateFromFile" "TrackFX_GetFormattedParamValue" "DockWindowActivate" "GetTakeEnvelope" "PCM_Source_CreateFromFileEx" "TrackFX_GetFXGUID" "DockWindowAdd" "GetTakeEnvelopeByName" "PCM_Source_CreateFromType" "TrackFX_GetFXName" "DockWindowAdEx" "GetTakeMarker" "PCM_Source_Destroy" "TrackFX_GetInstrument" "DockWindowRefresh" "GetTakeName" "PCM_Source_GetPeaks" "TrackFX_GetIOSize" "DockWindowRefreshForHWND" "GetTakeNumStretchMarkers" "PCM_Source_GetSectionInfo" "TrackFX_GetNamedConfigParm" "DockWindowRemove" "GetTakeStretchMarker" "PluginWantsAlwaysRunFx" "TrackFX_GetNumParams" "EditTempoTimeSigMarker" "GetTakeStretchMarkerSlope" "PreventUIRefresh" "TrackFX_GetOffline" "EnsureNotCompletelyOffscreen" "GetTCPFXParm" "PromptForAction" "TrackFX_GetOpen" "EnumerateFiles" "GetTempoMatchPlayRate" "ReaScriptError" "TrackFX_GetParam" "EnumerateSubdirectories" "GetTempoTimeSigMarker" "RecursiveCreateDirectory" "TrackFX_GetParameterStepSizes" "EnumPitchShiftModes" "GetThemeColor" "reduce_open_files" "TrackFX_GetParamEx" "EnumPitchShiftSubModes" "GetThingFromPoint" "RefreshToolbar" "TrackFX_GetParamFromIdent" "EnumProjectMarkers" "GetToggleCommandState" "RefreshToolbar2" "TrackFX_GetParamIdent" "EnumProjectMarkers2" "GetToggleCommandStateEx" "relative_fn" "TrackFX_GetParamName" "EnumProjectMarkers3" "GetTooltipWindow" "RemoveTrackSend" "TrackFX_GetParamNormalized" "EnumProjects" "GetTrack" "RenderFileSection" "TrackFX_GetPinMappings" "EnumProjExtState" "GetTrackAutomationMode" "ReorderSelectedTracks" "TrackFX_GetPreset" "EnumRegionRenderMatrix" "GetTrackColor" "Resample_EnumModes" "TrackFX_GetPresetIndex" "EnumTrackMIDIProgramNames" "GetTrackDepth" "resolve_fn" "TrackFX_GetRecChainVisible" "EnumTrackMIDIProgramNamesEx" "GetTrackEnvelope" "resolve_fn2" "TrackFX_GetRecCount" "Envelope_Evaluate" "GetTrackEnvelopeByChunkName" "ReverseNamedCommandLookup" "TrackFX_GetUserPresetFilename" "Envelope_FormatValue" "GetTrackEnvelopeByName" "ScaleFromEnvelopeMode" "TrackFX_NavigatePresets" "Envelope_GetParentTake" "GetTrackFromPoint" "ScaleToEnvelopeMode" "TrackFX_SetEnabled" "Envelope_GetParentTrack" "GetTrackGUID" "SelectAllMediaItems" "TrackFX_SetEQBandEnabled" "Envelope_SortPoints" "GetTrackMediaItem" "SelectProjectInstance" "TrackFX_SetEQParam" "Envelope_SortPointsEx" "GetTrackMIDILyrics" "SetActiveTake" "TrackFX_SetNamedConfigParm" "ExecProcess" "GetTrackMIDINoteName" "SetAutomationMode" "TrackFX_SetOffline" "file_exists" "GetTrackMIDINoteNameEx" "SetCurrentBPM" "TrackFX_SetOpen" "FindTempoTimeSigMarker" "GetTrackMIDINoteRange" "SetCursorContext" "TrackFX_SetParam" "format_timestr" "GetTrackName" "SetEditCurPos" "TrackFX_SetParamNormalized" "format_timestr_len" "GetTrackNumMediaItems" "SetEditCurPos2" "TrackFX_SetPinMappings" "format_timestr_pos" "GetTrackNumSends" "SetEnvelopePoint" "TrackFX_SetPreset" "genGuid" "GetTrackReceiveName" "SetEnvelopePointEx" "TrackFX_SetPresetByIndex" "get_config_var_string" "GetTrackReceiveUIMute" "SetEnvelopeStateChunk" "TrackFX_Show" "get_ini_file" "GetTrackReceiveUIVolPan" "SetExtState" "TrackList_AdjustWindows" "GetActiveTake" "GetTrackSendInfo_Value" "SetGlobalAutomationOverride" "TrackList_UpdateAllExternalSurfaces" "GetAllProjectPlayStates" "GetTrackSendName" "SetItemStateChunk" "Undo_BeginBlock" "GetAppVersion" "GetTrackSendUIMute" "SetMasterTrackVisibility" "Undo_BeginBlock2" "GetArmedCommand" "GetTrackSendUIVolPan" "SetMediaItemInfo_Value" "Undo_CanRedo2" "GetAudioAccessorEndTime" "GetTrackState" "SetMediaItemLength" "Undo_CanUndo2" "GetAudioAccessorHash" "GetTrackStateChunk" "SetMediaItemPosition" "Undo_DoRedo2" "GetAudioAccessorSamples" "GetTrackUIMute" "SetMediaItemSelected" "Undo_DoUndo2" "GetAudioAccessorStartTime" "GetTrackUIPan" "SetMediaItemTake_Source" "Undo_EndBlock" "GetAudioDeviceInfo" "GetTrackUIVolPan" "SetMediaItemTakeInfo_Value" "Undo_EndBlock2" "GetConfigWantsDock" "GetUnderrunTime" "SetMediaTrackInfo_Value" "Undo_OnStateChange" "GetCurrentProjectInLoadSave" "GetUserFileNameForRead" "SetMIDIEditorGrid" "Undo_OnStateChange2" "GetCursorContext" "GetUserInputs" "SetMixerScroll" "Undo_OnStateChange_Item" "GetCursorContext2" "GoToMarker" "SetMouseModifier" "Undo_OnStateChangeEx" "GetCursorPosition" "GoToRegion" "SetOnlyTrackSelected" "Undo_OnStateChangeEx2" "GetCursorPositionEx" "GR_SelectColor" "SetProjectGrid" "UpdateArrange" "GetDisplayedMediaItemColor" "GSC_mainwnd" "SetProjectMarker" "UpdateItemInProject" "GetDisplayedMediaItemColor2" "guidToString" "SetProjectMarker2" "UpdateTimeline" "GetEnvelopeInfo_Value" "HasExtState" "SetProjectMarker3" "ValidatePtr" "GetEnvelopeName" "HasTrackMIDIPrograms" "SetProjectMarker4" "ValidatePtr2" "GetEnvelopePoint" "HasTrackMIDIProgramsEx" "SetProjectMarkerByIndex" "ViewPrefs" "GetEnvelopePointByTime" "Help_Set" "SetProjectMarkerByIndex2" "GetEnvelopePointByTimeEx" "image_resolve_fn" "SetProjExtState"))

(defun company-reaper-backend (command &optional arg &rest ignored)
  (interactive (list 'interactive))

  (cl-case command
    (interactive (company-begin-backend 'company-reaper-backend))
    (prefix (and ;(eq major-mode ')
             (company-grab-symbol)))
    (candidates
     (cl-remove-if-not
      (lambda (c) (string-prefix-p arg c))
      reaper-api-functions))))

(add-hook 'reaper-mode-hook
          (lambda ()
            (setq-local company-backends '(company-reaper-backend))))

'(setq reaper-mode-hook nil)
